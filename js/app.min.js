var menu={height:0,selectArticle:void 0,highlightTitle:void 0};function initMenu(){mobileDevice?initMobileMenu():initDesktopMenu}
function initDesktopMenu(){var a=document.querySelector(".desktop .menu");menu.height=parseInt(window.getComputedStyle(a).height);var b=a.querySelector(".titles"),c=a.querySelector(".bar"),d=parseInt(window.getComputedStyle(b).marginLeft);c.style.width=b.querySelector("span").offsetWidth+"px";c.style.left=d+"px";menu.selectArticle=function(b){menu.highlightTitle(b);smoothScrollTo(document.querySelector("article."+b.dataset.article))};menu.highlightTitle=function(a){b.querySelector(".selected").classList.remove("selected");
a.classList.add("selected");a.classList.contains("home")?c.style.transform="translateX(0)":(c.style.transform="translateX("+(a.offsetLeft-d)+"px)",a.classList.contains("ethos")||a.classList.contains("works"))};b.querySelectorAll("span").forEach(function(a){a.addEventListener("click",function(a){menu.selectArticle(a.target)})})}
function initMobileMenu(){var a=document.querySelector("#menu-icon"),b=document.querySelector(".mobile .side-menu"),c=b.querySelector(".mobile .side-menu .titles"),d=document.querySelector(".mobile .top-bar");menu.height=parseInt(window.getComputedStyle(d).height);var f=document.querySelector(".home section:first-of-type").offsetTop,e=function(){b.classList.remove("opened");document.querySelector("body").scrollTop>f&&d.classList.remove("idle")};menu.selectArticle=function(a){smoothScrollTo(document.querySelector("article."+
a.dataset.article));e()};menu.highlightTitle=function(a){a.style.fontWeight="bold"};a.addEventListener("click",function(a){b.classList.contains("opened")?e():(b.classList.add("opened"),d.classList.add("idle"))});document.addEventListener("scroll",function(a){document.querySelector("body").scrollTop<=f?d.classList.add("idle"):d.classList.remove("idle")});document.querySelector("body").addEventListener("click",function(c){checkHit(c,b)||checkHit(c,a)||e()});var g,h;document.querySelector("body").addEventListener("touchstart",
function(a){g=parseInt(a.touches[0].pageX)});document.querySelector("body").addEventListener("touchmove",function(a){b.classList.contains("opened")&&(b.style.transition="none",h=parseInt(a.touches[0].pageX)-g,0<=h||(b.style.transform="translateX("+h+"px)"))});document.querySelector("body").addEventListener("touchend",function(a){b.classList.contains("opened")&&(b.style.transform="",b.style.transition="",-150>h&&closemenuElement())});c.querySelectorAll("span").forEach(function(a){a.addEventListener("click",
function(a){menu.selectArticle(a.target)})})}
function initArticles(){initHome();initWorks();var a={isHanging:!1,intervalId:void 0,waitTime:100,hang:function(){mThis=this;mThis.isHanging=!0;mThis.intervalId=setInterval(function(){mThis.isHanging=!1},mThis.waitTime)}};window.addEventListener("scroll",function(b){pageIsScrolling||a.isHanging||(a.hang(),window.scrollY>=document.querySelector("article.works").offsetTop-menu.height?menu.highlightTitle(document.querySelector(".titles .works")):window.scrollY>=document.querySelector("article.ethos").offsetTop-
menu.height?menu.highlightTitle(document.querySelector(".titles .ethos")):menu.highlightTitle(document.querySelector(".titles .home")))},{passive:!1})}function initHome(){var a=document.querySelector("article.home");a.style.height=window.getComputedStyle(a).height;a.querySelector(".container").style.height=Utils.toPx(parseFloat(a.height)+32)}
function initWorks(){var a=document.querySelectorAll("article.works .works-container .work-container");if(a.length){var b={works:[],shouldCheck:!0,checkReveal:function(){var a=this;this.shouldCheck&&this.works.forEach(function(b){a.shouldCheck=!1;if(b.classList.contains("hidden")){a.shouldCheck=!0;var f=b.offsetTop,e=parseInt(window.getComputedStyle(b).height);window.innerHeight+window.scrollY>f+e/3&&b.classList.remove("hidden")}})}};a.forEach(function(a){var d=window.getComputedStyle(a).width;a.style.height=
d;b.works.push(a.querySelector(".work"))});b.checkReveal();window.addEventListener("scroll",function(a){b.checkReveal()},{passive:!0})}}var Utils={toPx:function(a){return a+"px"}};function checkHit(a,b){for(var c=a.target;"HTML"!=c.tagName;c=c.parentNode)if(c==b)return!0;return!1}var pageIsScrolling=!1,animationFrameId;
function smoothScrollTo(a){pageIsScrolling&&cancelAnimationFrame(animationFrameId);pageIsScrolling=!0;var b=document.querySelector("body"),c=a.offsetTop-(menu.height+b.scrollTop);if(c){var d=0,f=b.scrollTop;duration=18;var e=function(){d>=duration?(b.scrollTop=f+c,pageIsScrolling=!1):(b.scrollTop=Math.easeInOutSine(d,f,c,duration),d++,requestAnimationFrame(e))};animationFrameId=requestAnimationFrame(e)}}
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var e=(new Date).getTime(),g=Math.max(0,16-(e-a)),h=window.setTimeout(function(){b(e+g)},g);a=e+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();void 0==NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);Math.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};var mobileDevice=!0;document.addEventListener("DOMContentLoaded",function(){767<parseInt(window.innerWidth)&&(mobileDevice=!1);registerAnalytics();initViews()});function initViews(){initMenu();initArticles()}
function registerAnalytics(){(function(a,b,c,d,f,e,g){a.GoogleAnalyticsObject=f;a[f]=a[f]||function(){(a[f].q=a[f].q||[]).push(arguments)};a[f].l=1*new Date;e=b.createElement(c);g=b.getElementsByTagName(c)[0];e.async=1;e.src=d;g.parentNode.insertBefore(e,g)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create","UA-83819121-1","auto");ga("send","pageview")};