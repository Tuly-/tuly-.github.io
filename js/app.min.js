(function(){for(var b=0,a=["ms","moz","webkit","o"],c=0;c<a.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[a[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var f=(new Date).getTime(),g=Math.max(0,16-(f-b)),h=window.setTimeout(function(){a(f+g)},g);b=f+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();void 0==NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);Math.easeInOutSine=function(b,a,c,d){return-c/2*(Math.cos(Math.PI*b/d)-1)+a};var menu={height:0,selectArticle:void 0,highlightTitle:void 0};function OnPageLoadFinished(){document.querySelectorAll(".loading-idle").forEach(function(b){b.classList.remove("loading-idle")});document.querySelector("body").removeChild(document.querySelector(".splash-container"))}
function initMenu(){mobileDevice?initMobileMenu():initDesktopMenu()}
function initDesktopMenu(){var b=document.querySelector(".desktop .menu");menu.height=parseInt(window.getComputedStyle(b).height);var a=b.querySelector(".titles"),c=b.querySelector(".bar"),d=parseInt(window.getComputedStyle(a).marginLeft);c.style.width=a.querySelector("span").offsetWidth+"px";c.style.left=d+"px";menu.selectArticle=function(a){menu.highlightTitle(a);smoothScrollTo(document.querySelector("article."+a.dataset.article))};menu.highlightTitle=function(b){a.querySelector(".selected").classList.remove("selected");
b.classList.add("selected");b.classList.contains("home")?c.style.transform="translateX(0)":(c.style.transform="translateX("+(b.offsetLeft-d)+"px)",b.classList.contains("ethos")||b.classList.contains("projects"))};a.querySelectorAll("span").forEach(function(a){a.addEventListener("click",function(a){menu.selectArticle(a.target)})})}
function initMobileMenu(){var b=document.querySelector("#menu-icon"),a=document.querySelector(".mobile .side-menu"),c=a.querySelector(".mobile .side-menu .titles"),d=document.querySelector(".mobile .top-bar");menu.height=parseInt(window.getComputedStyle(d).height);var e=document.querySelector(".home section:first-of-type").offsetTop,f=window.innerWidth/3,g=function(){a.classList.remove("opened");document.querySelector("body").scrollTop>e&&d.classList.remove("idle")};menu.selectArticle=function(a){smoothScrollTo(document.querySelector("article."+
a.dataset.article));g()};menu.highlightTitle=function(a){a.style.fontWeight="bold"};b.addEventListener("click",function(b){a.classList.contains("opened")?g():(a.classList.add("opened"),d.classList.add("idle"))});document.addEventListener("scroll",function(a){document.querySelector("body").scrollTop<=e?d.classList.add("idle"):d.classList.remove("idle")});document.querySelector("body").addEventListener("click",function(c){checkHit(c,a)||checkHit(c,b)||g()});var h,k;document.querySelector("body").addEventListener("touchstart",
function(a){h=parseInt(a.touches[0].pageX)});document.querySelector("body").addEventListener("touchmove",function(b){a.classList.contains("opened")&&(a.style.transition="none",k=parseInt(b.touches[0].pageX)-h,0<=k||(a.style.transform="translateX("+k+"px)"))});document.querySelector("body").addEventListener("touchend",function(b){a.classList.contains("opened")&&(a.style.transform="",a.style.transition="",Math.abs(k)>f&&g())});c.querySelectorAll("span").forEach(function(a){a.addEventListener("click",
function(a){menu.selectArticle(a.target)})})}
function initArticles(){initHome();initprojects();var b={isHanging:!1,intervalId:void 0,waitTime:100,hang:function(){mThis=this;mThis.isHanging=!0;mThis.intervalId=setInterval(function(){mThis.isHanging=!1},mThis.waitTime)}};window.addEventListener("scroll",function(a){pageIsScrolling||b.isHanging||(b.hang(),window.scrollY>=document.querySelector("article.projects").offsetTop-menu.height?menu.highlightTitle(document.querySelector(".titles .projects")):window.scrollY>=document.querySelector("article.ethos").offsetTop-
menu.height?menu.highlightTitle(document.querySelector(".titles .ethos")):menu.highlightTitle(document.querySelector(".titles .home")))},{passive:!1})}function initHome(){var b=document.querySelector("article.home"),a=b.querySelector(".container");b.style.height=window.getComputedStyle(a).height;a.style.height=Utils.toPx(parseFloat(b.style.height)+(mobileDevice?32:64))}
function initprojects(){var b=document.querySelectorAll("article.projects .projects-container .project-container");if(b.length){var a={projects:[],shouldCheck:!0,checkReveal:function(){var a=this;this.shouldCheck&&this.projects.forEach(function(b){a.shouldCheck=!1;if(b.classList.contains("hidden")){a.shouldCheck=!0;var e=b.offsetTop,f=parseInt(window.getComputedStyle(b).height);window.innerHeight+window.scrollY>e+f/3&&(e=b.offsetLeft,f=parseFloat(window.getComputedStyle(b).height),e=parseInt(e/f),
b.style.transitionDelay=Utils.toSeconds(.1*e),b.classList.remove("hidden"))}})}};b.forEach(function(b){var d=window.getComputedStyle(b).width;b.style.height=d;a.projects.push(b.querySelector(".project"))});a.checkReveal();window.addEventListener("scroll",function(b){a.checkReveal()},{passive:!0})}}var Utils={toPx:function(b){return b+"px"},toSeconds:function(b){return b+"s"}};function checkHit(b,a){for(var c=b.target;"HTML"!=c.tagName;c=c.parentNode)if(c==a)return!0;return!1}
var pageIsScrolling=!1,animationFrameId;function smoothScrollTo(b){pageIsScrolling&&cancelAnimationFrame(animationFrameId);pageIsScrolling=!0;var a=document.querySelector("body"),c=b.offsetTop-(menu.height+a.scrollTop);if(c){var d=0,e=a.scrollTop;duration=18;var f=function(){d>=duration?(a.scrollTop=e+c,pageIsScrolling=!1):(a.scrollTop=Math.easeInOutSine(d,e,c,duration),d++,requestAnimationFrame(f))};animationFrameId=requestAnimationFrame(f)}}var mobileDevice=!0;
window.onload=function(b){767<parseInt(window.innerWidth)&&(mobileDevice=!1);registerAnalytics();initViews()};function initViews(){initMenu();initArticles();OnPageLoadFinished()}
function registerAnalytics(){(function(b,a,c,d,e,f,g){b.GoogleAnalyticsObject=e;b[e]=b[e]||function(){(b[e].q=b[e].q||[]).push(arguments)};b[e].l=1*new Date;f=a.createElement(c);g=a.getElementsByTagName(c)[0];f.async=1;f.src=d;g.parentNode.insertBefore(f,g)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create","UA-83819121-1","auto");ga("send","pageview")};