function initMenu(){mobileDevice?initMobileMenu():initDesktopMenu()}function initDesktopMenu(){var a=document.querySelector(".desktop .menu");menu.height=parseInt(window.getComputedStyle(a).height);var b=a.querySelector(".titles"),c=a.querySelector(".bar"),d=parseInt(window.getComputedStyle(b).marginLeft);c.style.width=b.querySelector("span").offsetWidth+"px",c.style.left=d+"px",menu.selectArticle=(a=>{menu.highlightTitle(a),smoothScrollTo(document.querySelector("article."+a.dataset.article))}),menu.highlightTitle=(a=>{b.querySelector(".selected").classList.remove("selected"),a.classList.add("selected");var e="";a.classList.contains("home")?(c.style.transform="translateX(0)",e="home"):(c.style.transform="translateX("+(a.offsetLeft-d)+"px)",a.classList.contains("ethos")?e="ethos":a.classList.contains("works")&&(e="works"))}),b.querySelectorAll("span").forEach((a=>{a.addEventListener("click",(a=>{menu.selectArticle(a.target)}))}))}function initMobileMenu(){var a=document.querySelector("#menu-icon"),b=document.querySelector(".mobile .side-menu"),c=b.querySelector(".mobile .side-menu .titles"),d=document.querySelector(".mobile .top-bar");menu.height=parseInt(window.getComputedStyle(d).height);var e=document.querySelector(".home section:first-of-type").offsetTop,f=function(){b.classList.add("opened"),d.classList.add("idle")},g=function(){b.classList.remove("opened"),document.querySelector("body").scrollTop>e&&d.classList.remove("idle")};menu.selectArticle=(a=>{smoothScrollTo(document.querySelector("article."+a.dataset.article)),g()}),menu.highlightTitle=(a=>{a.style.fontWeight="bold"}),a.addEventListener("click",(a=>{b.classList.contains("opened")?g():f()})),document.addEventListener("scroll",(a=>{return document.querySelector("body").scrollTop<=e?void d.classList.add("idle"):void d.classList.remove("idle")})),document.querySelector("body").addEventListener("click",(c=>{checkHit(c,b)||checkHit(c,a)||g()}));var h,i;document.querySelector("body").addEventListener("touchstart",(a=>{h=parseInt(a.touches[0].pageX)})),document.querySelector("body").addEventListener("touchmove",(a=>{b.classList.contains("opened")&&(b.style.transition="none",i=parseInt(a.touches[0].pageX)-h,i>=0||(b.style.transform="translateX("+i+"px)"))})),document.querySelector("body").addEventListener("touchend",(a=>{b.classList.contains("opened")&&(b.style.transform="",b.style.transition="",i<-150&&closemenuElement())})),c.querySelectorAll("span").forEach((a=>{a.addEventListener("click",(a=>{menu.selectArticle(a.target)}))}))}function initArticles(){initHome(),initWorks();var a={isHanging:!1,intervalId:void 0,waitTime:100,hang:function(){mThis=this,mThis.isHanging=!0,mThis.intervalId=setInterval((()=>{mThis.isHanging=!1}),mThis.waitTime)}};window.addEventListener("scroll",(b=>{pageIsScrolling||a.isHanging||(a.hang(),window.scrollY>=document.querySelector("article.works").offsetTop-menu.height?menu.highlightTitle(document.querySelector(".titles .works")):window.scrollY>=document.querySelector("article.ethos").offsetTop-menu.height?menu.highlightTitle(document.querySelector(".titles .ethos")):menu.highlightTitle(document.querySelector(".titles .home")))}),{passive:!1})}function initHome(){var a=document.querySelector("article.home");a.style.height=window.getComputedStyle(a).height;var b=a.querySelector(".container");b.style.height=Utils.toPx(parseFloat(a.height)+32)}function initWorks(){var a=document.querySelectorAll("article.works .works-container .work-container");if(a.length){var b={works:[],shouldCheck:!0,checkReveal:function(){this.shouldCheck&&this.works.forEach((a=>{if(this.shouldCheck=!1,a.classList.contains("hidden")){this.shouldCheck=!0;var b=a.offsetTop,c=parseInt(window.getComputedStyle(a).height),d=window.innerHeight+window.scrollY;d>b+c/3&&a.classList.remove("hidden")}}))}};a.forEach((a=>{var c=window.getComputedStyle(a).width;a.style.height=c,b.works.push(a.querySelector(".work"))})),b.checkReveal(),window.addEventListener("scroll",(a=>{b.checkReveal()}),{passive:!0})}}function checkHit(a,b){for(var c=a.target;"HTML"!=c.tagName;c=c.parentNode)if(c==b)return!0;return!1}function smoothScrollTo(a){pageIsScrolling&&cancelAnimationFrame(animationFrameId),pageIsScrolling=!0;var b=document.querySelector("body"),c=a.offsetTop-(menu.height+b.scrollTop);if(c){var d=0,e=b.scrollTop;duration=18;var f=function(){return d>=duration?(b.scrollTop=e+c,void(pageIsScrolling=!1)):(b.scrollTop=Math.easeInOutSine(d,e,c,duration),d++,void requestAnimationFrame(f))};animationFrameId=requestAnimationFrame(f)}}function initViews(){initMenu(),initArticles()}function registerAnalytics(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-83819121-1","auto"),ga("send","pageview")}var animationFrameId,menu={height:0,selectArticle:void 0,highlightTitle:void 0},Utils={toPx:a=>{return a+"px"}},pageIsScrolling=!1;!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),void 0==NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Math.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};var mobileDevice=!0;document.addEventListener("DOMContentLoaded",function(){parseInt(window.innerWidth)>767&&(mobileDevice=!1),registerAnalytics(),initViews()});