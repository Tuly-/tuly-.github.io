(function(){for(var b=0,a=["ms","moz","webkit","o"],c=0;c<a.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[a[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var d=(new Date).getTime(),g=Math.max(0,16-(d-b)),h=window.setTimeout(function(){a(d+g)},g);b=d+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();void 0==NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);Math.easeInOutSine=function(b,a,c,e){return-c/2*(Math.cos(Math.PI*b/e)-1)+a};var menu={height:0,selectArticle:void 0,highlightTitle:void 0};function initMenu(){mobileDevice?initMobileMenu():initDesktopMenu()}
function initDesktopMenu(){var b=document.querySelector(".desktop .menu");menu.height=parseInt(window.getComputedStyle(b).height);var a=b.querySelector(".titles"),c=b.querySelector(".bar"),e=parseInt(window.getComputedStyle(a).marginLeft);c.style.width=a.querySelector("span").offsetWidth+"px";c.style.left=e+"px";menu.selectArticle=function(a){menu.highlightTitle(a);smoothScrollTo(document.querySelector("article."+a.dataset.article))};menu.highlightTitle=function(b){a.querySelector(".selected").classList.remove("selected");
b.classList.add("selected");b.classList.contains("home")?c.style.transform="translateX(0)":(c.style.transform="translateX("+(b.offsetLeft-e)+"px)",b.classList.contains("ethos")||b.classList.contains("works"))};a.querySelectorAll("span").forEach(function(a){a.addEventListener("click",function(a){menu.selectArticle(a.target)})})}
function initMobileMenu(){var b=document.querySelector("#menu-icon"),a=document.querySelector(".mobile .side-menu"),c=a.querySelector(".mobile .side-menu .titles"),e=document.querySelector(".mobile .top-bar");menu.height=parseInt(window.getComputedStyle(e).height);var f=document.querySelector(".home section:first-of-type").offsetTop,d=function(){a.classList.remove("opened");document.querySelector("body").scrollTop>f&&e.classList.remove("idle")};menu.selectArticle=function(a){smoothScrollTo(document.querySelector("article."+
a.dataset.article));d()};menu.highlightTitle=function(a){a.style.fontWeight="bold"};b.addEventListener("click",function(b){a.classList.contains("opened")?d():(a.classList.add("opened"),e.classList.add("idle"))});document.addEventListener("scroll",function(a){document.querySelector("body").scrollTop<=f?e.classList.add("idle"):e.classList.remove("idle")});document.querySelector("body").addEventListener("click",function(c){checkHit(c,a)||checkHit(c,b)||d()});var g,h;document.querySelector("body").addEventListener("touchstart",
function(a){g=parseInt(a.touches[0].pageX)});document.querySelector("body").addEventListener("touchmove",function(b){a.classList.contains("opened")&&(a.style.transition="none",h=parseInt(b.touches[0].pageX)-g,0<=h||(a.style.transform="translateX("+h+"px)"))});document.querySelector("body").addEventListener("touchend",function(b){a.classList.contains("opened")&&(a.style.transform="",a.style.transition="",-150>h&&closemenuElement())});c.querySelectorAll("span").forEach(function(a){a.addEventListener("click",
function(a){menu.selectArticle(a.target)})})}
function initArticles(){initHome();initWorks();var b={isHanging:!1,intervalId:void 0,waitTime:100,hang:function(){mThis=this;mThis.isHanging=!0;mThis.intervalId=setInterval(function(){mThis.isHanging=!1},mThis.waitTime)}};window.addEventListener("scroll",function(a){pageIsScrolling||b.isHanging||(b.hang(),window.scrollY>=document.querySelector("article.works").offsetTop-menu.height?menu.highlightTitle(document.querySelector(".titles .works")):window.scrollY>=document.querySelector("article.ethos").offsetTop-
menu.height?menu.highlightTitle(document.querySelector(".titles .ethos")):menu.highlightTitle(document.querySelector(".titles .home")))},{passive:!1})}function initHome(){var b=document.querySelector("article.home");b.style.height=window.getComputedStyle(b).height;b.querySelector(".container").style.height=Utils.toPx(parseFloat(b.height)+32)}
function initWorks(){var b=document.querySelectorAll("article.works .works-container .work-container");if(b.length){var a={works:[],shouldCheck:!0,checkReveal:function(){var a=this;this.shouldCheck&&this.works.forEach(function(b){a.shouldCheck=!1;if(b.classList.contains("hidden")){a.shouldCheck=!0;var f=b.offsetTop,d=parseInt(window.getComputedStyle(b).height);window.innerHeight+window.scrollY>f+d/3&&(f=b.offsetLeft,d=parseFloat(window.getComputedStyle(b).height),f=parseInt(f/d),b.style.transitionDelay=
Utils.toSeconds(.1*f),b.classList.remove("hidden"))}})}};b.forEach(function(b){var e=window.getComputedStyle(b).width;b.style.height=e;a.works.push(b.querySelector(".work"))});a.checkReveal();window.addEventListener("scroll",function(b){a.checkReveal()},{passive:!0})}}var Utils={toPx:function(b){return b+"px"},toSeconds:function(b){return b+"s"}};function checkHit(b,a){for(var c=b.target;"HTML"!=c.tagName;c=c.parentNode)if(c==a)return!0;return!1}var pageIsScrolling=!1,animationFrameId;
function smoothScrollTo(b){pageIsScrolling&&cancelAnimationFrame(animationFrameId);pageIsScrolling=!0;var a=document.querySelector("body"),c=b.offsetTop-(menu.height+a.scrollTop);if(c){var e=0,f=a.scrollTop;duration=18;var d=function(){e>=duration?(a.scrollTop=f+c,pageIsScrolling=!1):(a.scrollTop=Math.easeInOutSine(e,f,c,duration),e++,requestAnimationFrame(d))};animationFrameId=requestAnimationFrame(d)}}var mobileDevice=!0;
document.addEventListener("DOMContentLoaded",function(){767<parseInt(window.innerWidth)&&(mobileDevice=!1);registerAnalytics();initViews()});function initViews(){initMenu();initArticles()}
function registerAnalytics(){(function(b,a,c,e,f,d,g){b.GoogleAnalyticsObject=f;b[f]=b[f]||function(){(b[f].q=b[f].q||[]).push(arguments)};b[f].l=1*new Date;d=a.createElement(c);g=a.getElementsByTagName(c)[0];d.async=1;d.src=e;g.parentNode.insertBefore(d,g)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create","UA-83819121-1","auto");ga("send","pageview")};